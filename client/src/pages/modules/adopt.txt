<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Service Order Management</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#0E3646;--primary-light:#1a5570;--accent:#e67e22;--success:#27ae60;--error:#e74c3c;--warning:#f39c12;--info:#3498db;--text:#2c3e50;--text-light:#7f8c8d;--bg:#f8f9fa;--border:#dee2e6;--white:#fff}
body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);min-height:100vh;padding:20px;line-height:1.6;color:var(--text)}
.container{max-width:1400px;margin:0 auto;background:var(--white);border-radius:12px;box-shadow:0 10px 40px rgba(14,54,70,0.15);overflow:hidden}
.header{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-light) 100%);color:var(--white);padding:40px 30px;text-align:center}
.header h1{font-size:2.5em;margin-bottom:10px}
.header p{font-size:1.1em;opacity:0.95}
.tabs{display:flex;gap:0;margin:30px;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px rgba(14,54,70,0.15)}
.tab{flex:1;padding:30px;background:var(--bg);border:2px solid var(--border);cursor:pointer;transition:all 0.3s;text-align:center}
.tab:first-child{border-right:none}
.tab:hover{background:rgba(14,54,70,0.05)}
.tab.active{background:var(--primary);color:var(--white);border-color:var(--primary);transform:scale(1.02);z-index:1}
.tab .icon{font-size:3em;margin-bottom:15px}
.tab h3{font-size:1.5em;margin-bottom:10px}
.tab p{font-size:0.95em;opacity:0.9}
.section{display:none;padding:30px}
.section.active{display:block}
.grid{display:grid;grid-template-columns:1fr 380px;gap:30px}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:20px}
.group{margin-bottom:20px}
.full{grid-column:1/-1}
label{display:block;margin-bottom:8px;font-weight:600;color:var(--primary);font-size:0.95em}
.req{color:var(--error);margin-left:3px}
.opt{color:var(--text-light);font-weight:400;font-style:italic;font-size:0.9em}
input,select,textarea{width:100%;padding:12px 15px;border:2px solid var(--border);border-radius:6px;font-size:1em;transition:all 0.3s;font-family:inherit;background:var(--white)}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(14,54,70,0.1)}
textarea{resize:vertical;min-height:100px}
.btn-group{flex:1;min-width:200px;padding:20px;border:2px solid var(--border);background:var(--white);border-radius:8px;cursor:pointer;transition:all 0.3s;text-align:center}
.btn-group:hover{border-color:var(--primary);transform:translateY(-2px);box-shadow:0 4px 12px rgba(14,54,70,0.15)}
.btn-group.active{background:var(--primary);color:var(--white);border-color:var(--primary)}
.section-header{background:var(--bg);padding:20px;border-left:4px solid var(--primary);margin-bottom:25px;border-radius:6px}
.section-header h3{color:var(--primary);font-size:1.4em;margin-bottom:5px}
.section-header p{color:var(--text-light);font-size:0.95em}
.summary{background:var(--bg);padding:25px;border-radius:8px;height:fit-content;position:sticky;top:20px}
.summary h2{color:var(--primary);margin-bottom:20px;font-size:1.5em;border-bottom:2px solid var(--primary);padding-bottom:10px}
.sum-item{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--border)}
.sum-total{background:var(--primary);color:var(--white);padding:15px;margin-top:15px;border-radius:6px;display:flex;justify-content:space-between;font-size:1.3em;font-weight:700}
.btn{padding:15px 40px;border:none;border-radius:6px;font-size:1.1em;font-weight:600;cursor:pointer;transition:all 0.3s;flex:1;min-width:150px}
.btn-primary{background:var(--primary);color:var(--white)}
.btn-primary:hover{background:var(--primary-light);transform:translateY(-2px);box-shadow:0 4px 12px rgba(14,54,70,0.3)}
.btn-secondary{background:var(--white);color:var(--primary);border:2px solid var(--primary)}
.btn-secondary:hover{background:var(--bg)}
.error{color:var(--error);font-size:0.9em;margin-top:5px;display:none}
.error.show{display:block}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:1000;align-items:center;justify-content:center;padding:20px}
.modal.show{display:flex}
.modal-content{background:var(--white);padding:40px;border-radius:12px;max-width:700px;width:100%;max-height:90vh;overflow-y:auto;text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.3)}
.modal-icon{font-size:4em;margin-bottom:20px}
.order-num{background:var(--bg);padding:15px;border-radius:6px;font-weight:600;color:var(--primary);margin:20px 0;font-size:1.2em}
@media(max-width:1024px){.grid{grid-template-columns:1fr}.summary{position:static}}
@media(max-width:768px){.header h1{font-size:2em}.tabs{flex-direction:column;margin:20px}.tab{border-right:2px solid var(--border)!important}.form-grid{grid-template-columns:1fr}.section{padding:20px}}
</style></head>
<body>
<div class="container">
<div class="header">
<h1>Service Order Management</h1>
<p>Comprehensive order system for internal services and external contractors</p>
</div>

<div class="tabs">
<div class="tab active" onclick="switchSection('internal')">
<div class="icon">üè¢</div>
<h3>Internal Service Order</h3>
<p>Company provides services to customers</p>
</div>
<div class="tab" onclick="switchSection('external')">
<div class="icon">ü§ù</div>
<h3>External Contractor Order</h3>
<p>Company receives contractor services</p>
</div>
</div>

<!-- INTERNAL SECTION -->
<div class="section active" id="internal">
<div class="grid">
<div>
<form id="intForm">
<div class="section-header">
<h3>üë§ Customer Information</h3>
<p>Select customer type and provide details</p>
</div>

<div class="group full">
<label>Customer Type <span class="req">*</span></label>
<div style="display:flex;gap:15px;margin-bottom:20px">
<div class="btn-group" onclick="selectCustomer('existing')">
<h4>Existing Customer</h4>
<p>10% loyalty discount</p>
</div>
<div class="btn-group" onclick="selectCustomer('general')">
<h4>General Public</h4>
<p>Standard pricing</p>
</div>
</div>
<input type="hidden" id="custType">
</div>

<div id="existingFields" style="display:none">
<div class="form-grid">
<div class="group">
<label for="custId">Customer ID <span class="req">*</span></label>
<input type="text" id="custId" placeholder="CUST-12345">
</div>
<div class="group">
<label for="accEmail">Account Email <span class="req">*</span></label>
<input type="email" id="accEmail" placeholder="account@example.com">
</div>
</div>
</div>

<div class="form-grid">
<div class="group">
<label for="fname">First Name <span class="req">*</span></label>
<input type="text" id="fname" placeholder="John" required>
</div>
<div class="group">
<label for="lname">Last Name <span class="req">*</span></label>
<input type="text" id="lname" placeholder="Doe" required>
</div>
<div class="group">
<label for="email">Email <span class="req">*</span></label>
<input type="email" id="email" placeholder="customer@example.com" required>
</div>
<div class="group">
<label for="phone">Phone <span class="req">*</span></label>
<input type="tel" id="phone" placeholder="+1 (555) 123-4567" required>
</div>
</div>

<div class="section-header">
<h3>üõ†Ô∏è Service Selection</h3>
<p>Choose service category and add items</p>
</div>

<div class="group">
<label for="servCat">Service Category <span class="req">*</span></label>
<select id="servCat" required>
<option value="">-- Select Category --</option>
<option value="consulting">Consulting & Advisory</option>
<option value="installation">Installation & Setup</option>
<option value="maintenance">Maintenance & Support</option>
<option value="repair">Repair & Troubleshooting</option>
<option value="training">Training & Education</option>
<option value="custom">Custom/Specialized</option>
</select>
</div>

<div style="background:var(--bg);padding:20px;border-radius:8px;margin-top:15px">
<h4 style="color:var(--primary);margin-bottom:15px">üìã Service Items</h4>
<div id="servItems"></div>
<button type="button" onclick="addServiceItem()" style="background:var(--success);color:var(--white);border:none;padding:12px 25px;border-radius:6px;cursor:pointer;margin-top:10px">+ Add Service Item</button>
</div>

<div class="section-header">
<h3>üìç Location & Schedule</h3>
<p>Where and when should service be performed?</p>
</div>

<div class="group full">
<label for="addr">Service Address <span class="req">*</span></label>
<textarea id="addr" placeholder="Complete address" required></textarea>
</div>

<div class="form-grid">
<div class="group">
<label for="date">Service Date <span class="req">*</span></label>
<input type="date" id="date" required>
</div>
<div class="group">
<label for="time">Time Slot <span class="req">*</span></label>
<select id="time" required>
<option value="">-- Select Time --</option>
<option value="08-10">8:00 AM - 10:00 AM</option>
<option value="10-12">10:00 AM - 12:00 PM</option>
<option value="12-14">12:00 PM - 2:00 PM</option>
<option value="14-16">2:00 PM - 4:00 PM</option>
<option value="16-18">4:00 PM - 6:00 PM</option>
</select>
</div>
</div>

<div class="section-header">
<h3>üí≥ Payment</h3>
<p>Select payment method</p>
</div>

<div class="group">
<label>Payment Method <span class="req">*</span></label>
<div style="display:flex;gap:15px;flex-wrap:wrap;margin-top:10px">
<label><input type="radio" name="pay" value="card"> Card</label>
<label><input type="radio" name="pay" value="bank"> Bank Transfer</label>
<label><input type="radio" name="pay" value="cash"> Cash</label>
<label><input type="radio" name="pay" value="invoice"> Invoice</label>
</div>
</div>

<div style="display:flex;gap:15px;margin-top:30px">
<button type="button" class="btn btn-secondary" onclick="resetForm('int')">Clear</button>
<button type="submit" class="btn btn-primary">Submit Order</button>
</div>
</form>
</div>

<div class="summary">
<h2>Order Summary</h2>
<div id="intSummary">
<p style="text-align:center;color:var(--text-light);padding:20px">Add services to see summary</p>
</div>
</div>
</div>
</div>

<!-- EXTERNAL SECTION -->
<div class="section" id="external">
<div class="grid">
<div>
<form id="extForm">
<div class="section-header">
<h3>üèõÔ∏è Requesting Department</h3>
<p>Which department needs this service?</p>
</div>

<div class="form-grid">
<div class="group">
<label for="dept">Department <span class="req">*</span></label>
<select id="dept" required>
<option value="">-- Select Department --</option>
<option value="operations">Operations</option>
<option value="it">IT</option>
<option value="facilities">Facilities</option>
<option value="hr">HR</option>
<option value="finance">Finance</option>
</select>
</div>
<div class="group">
<label for="cost">Cost Center <span class="req">*</span></label>
<input type="text" id="cost" placeholder="CC-12345" required>
</div>
</div>

<div class="form-grid">
<div class="group">
<label for="reqName">Requestor Name <span class="req">*</span></label>
<input type="text" id="reqName" placeholder="Full name" required>
</div>
<div class="group">
<label for="reqTitle">Job Title <span class="req">*</span></label>
<input type="text" id="reqTitle" placeholder="Position" required>
</div>
<div class="group">
<label for="reqEmail">Email <span class="req">*</span></label>
<input type="email" id="reqEmail" placeholder="requestor@company.com" required>
</div>
<div class="group">
<label for="reqPhone">Phone <span class="req">*</span></label>
<input type="tel" id="reqPhone" placeholder="+1 (555) 123-4567" required>
</div>
</div>

<div class="section-header">
<h3>ü§ù Contractor Information</h3>
<p>Select or add contractor details</p>
</div>

<div class="form-grid">
<div class="group">
<label for="contName">Contractor Name <span class="req">*</span></label>
<input type="text" id="contName" placeholder="Company name" required>
</div>
<div class="group">
<label for="contId">Contractor ID <span class="opt">(Optional)</span></label>
<input type="text" id="contId" placeholder="CONT-12345">
</div>
</div>

<div class="form-grid">
<div class="group">
<label for="contEmail">Contractor Email <span class="req">*</span></label>
<input type="email" id="contEmail" placeholder="contractor@company.com" required>
</div>
<div class="group">
<label for="contPhone">Contractor Phone <span class="req">*</span></label>
<input type="tel" id="contPhone" placeholder="+1 (555) 987-6543" required>
</div>
</div>

<div class="section-header">
<h3>üõ†Ô∏è Service Requirements</h3>
<p>Describe services needed from contractor</p>
</div>

<div class="group">
<label for="extCat">Service Category <span class="req">*</span></label>
<select id="extCat" required>
<option value="">-- Select Category --</option>
<option value="construction">Construction & Renovation</option>
<option value="electrical">Electrical Services</option>
<option value="plumbing">Plumbing Services</option>
<option value="hvac">HVAC Services</option>
<option value="it">IT & Technology</option>
<option value="cleaning">Cleaning & Janitorial</option>
</select>
</div>

<div class="group full">
<label for="scope">Scope of Work <span class="req">*</span></label>
<textarea id="scope" placeholder="Detailed description of work to be performed" required style="min-height:150px"></textarea>
</div>

<div class="section-header">
<h3>üìç Location & Timeline</h3>
<p>Where and when should work be performed?</p>
</div>

<div class="group full">
<label for="workLoc">Work Location <span class="req">*</span></label>
<textarea id="workLoc" placeholder="Facility address" required></textarea>
</div>

<div class="form-grid">
<div class="group">
<label for="start">Start Date <span class="req">*</span></label>
<input type="date" id="start" required>
</div>
<div class="group">
<label for="end">End Date <span class="req">*</span></label>
<input type="date" id="end" required>
</div>
</div>

<div class="section-header">
<h3>üí∞ Budget Information</h3>
<p>Estimated costs and payment terms</p>
</div>

<div class="form-grid">
<div class="group">
<label for="estCost">Estimated Cost <span class="req">*</span></label>
<input type="number" id="estCost" placeholder="0.00" step="0.01" min="0" required>
</div>
<div class="group">
<label for="currency">Currency <span class="req">*</span></label>
<select id="currency" required>
<option value="USD">USD</option>
<option value="EUR">EUR</option>
<option value="GBP">GBP</option>
</select>
</div>
</div>

<div style="display:flex;gap:15px;margin-top:30px">
<button type="button" class="btn btn-secondary" onclick="resetForm('ext')">Clear</button>
<button type="submit" class="btn btn-primary">Submit Order</button>
</div>
</form>
</div>

<div class="summary">
<h2>Order Summary</h2>
<div id="extSummary">
<p style="text-align:center;color:var(--text-light);padding:20px">Fill in details to see summary</p>
</div>
</div>
</div>
</div>
</div>

<!-- MODALS -->
<div class="modal" id="successModal">
<div class="modal-content">
<div class="modal-icon" style="color:var(--success)">‚úì</div>
<h2 style="color:var(--primary);margin-bottom:15px">Order Submitted!</h2>
<p style="color:var(--text-light);margin-bottom:20px">Your order has been received and is being processed.</p>
<div class="order-num">Order #: <span id="orderNum"></span></div>
<button class="btn btn-primary" onclick="closeModal()">Done</button>
</div>
</div>

<script>
let serviceCounter=0;
function switchSection(s){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
document.querySelectorAll('.section').forEach(sec=>sec.classList.remove('active'));
event.target.closest('.tab').classList.add('active');
document.getElementById(s).classList.add('active');
}
function selectCustomer(type){
document.querySelectorAll('.btn-group').forEach(b=>b.classList.remove('active'));
event.target.closest('.btn-group').classList.add('active');
document.getElementById('custType').value=type;
document.getElementById('existingFields').style.display=type==='existing'?'block':'none';
}
function addServiceItem(){
serviceCounter++;
const div=document.createElement('div');
div.style.cssText='display:grid;grid-template-columns:2fr 1fr 100px 120px 40px;gap:15px;margin-bottom:15px;padding:15px;background:var(--white);border:2px solid var(--border);border-radius:6px';
div.innerHTML=`
<input type="text" placeholder="Service description" class="serv-desc" required>
<input type="number" value="1" min="1" class="serv-qty" required>
<input type="number" placeholder="0.00" step="0.01" min="0" class="serv-price" required>
<input type="number" readonly class="serv-sub" style="background:var(--bg)">
<button type="button" onclick="this.parentElement.remove()" style="background:var(--error);color:var(--white);border:none;padding:12px;border-radius:6px;cursor:pointer">√ó</button>
`;
document.getElementById('servItems').appendChild(div);
const qty=div.querySelector('.serv-qty');
const price=div.querySelector('.serv-price');
const sub=div.querySelector('.serv-sub');
[qty,price].forEach(inp=>inp.addEventListener('input',()=>{
sub.value=((parseFloat(qty.value)||0)*(parseFloat(price.value)||0)).toFixed(2);
updateSummary();
}));
}
function updateSummary(){
const items=document.querySelectorAll('#servItems>div');
let total=0;
let html='<div class="sum-item"><strong>Services</strong></div>';
items.forEach(item=>{
const desc=item.querySelector('.serv-desc').value||'Service';
const qty=parseFloat(item.querySelector('.serv-qty').value)||0;
const price=parseFloat(item.querySelector('.serv-price').value)||0;
const sub=qty*price;
total+=sub;
if(sub>0)html+=`<div class="sum-item"><span>${desc} (x${qty})</span><span>$${sub.toFixed(2)}</span></div>`;
});
const custType=document.getElementById('custType').value;
if(custType==='existing'){
const disc=total*0.1;
html+=`<div class="sum-item"><span>Discount (10%)</span><span style="color:var(--success)">-$${disc.toFixed(2)}</span></div>`;
total-=disc;
}
if(total>0)html+=`<div class="sum-total"><span>Total</span><span>$${total.toFixed(2)}</span></div>`;
else html='<p style="text-align:center;color:var(--text-light);padding:20px">Add services to see summary</p>';
document.getElementById('intSummary').innerHTML=html;
}
function resetForm(type){
if(confirm('Clear all form data?')){
document.getElementById(type==='int'?'intForm':'extForm').reset();
if(type==='int'){
document.getElementById('servItems').innerHTML='';
document.getElementById('intSummary').innerHTML='<p style="text-align:center;color:var(--text-light);padding:20px">Add services to see summary</p>';
}
}
}
function closeModal(){
document.getElementById('successModal').classList.remove('show');
}
document.getElementById('intForm').addEventListener('submit',e=>{
e.preventDefault();
const num='ORD-'+Date.now().toString().slice(-8);
document.getElementById('orderNum').textContent=num;
document.getElementById('successModal').classList.add('show');
});
document.getElementById('extForm').addEventListener('submit',e=>{
e.preventDefault();
const num='ORD-'+Date.now().toString().slice(-8);
document.getElementById('orderNum').textContent=num;
document.getElementById('successModal').classList.add('show');
});
const today=new Date().toISOString().split('T')[0];
document.getElementById('date').min=today;
document.getElementById('start').min=today;
document.getElementById('end').min=today;
</script>
</body>
</html>